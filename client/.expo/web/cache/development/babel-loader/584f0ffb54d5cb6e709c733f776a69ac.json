{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { CartContext } from \"../context/CartContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MenuItem(_ref) {\n  var item = _ref.item;\n\n  var _useContext = useContext(CartContext),\n      cart = _useContext.cart,\n      dispatch = _useContext.dispatch;\n\n  var _useState = useState(cart.findIndex(function (citem) {\n    return citem.id == item._id;\n  }) > -1 ? cart.find(function (citem) {\n    return citem.id == item._id;\n  }).qty : 0),\n      _useState2 = _slicedToArray(_useState, 2),\n      quantity = _useState2[0],\n      setQuantity = _useState2[1];\n\n  var addItem = function addItem() {\n    setQuantity(function (prev) {\n      return prev + 1;\n    });\n    dispatch({\n      type: \"ADD_ITEM\",\n      payload: {\n        id: item._id,\n        cId: item.canteenId,\n        name: item.itemName,\n        price: item.itemPrice,\n        image: item.itemImage,\n        qty: 1\n      }\n    });\n  };\n\n  var removeItem = function removeItem() {\n    if (!quantity) return;\n    setQuantity(function (prev) {\n      return prev - 1;\n    });\n    dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: item._id\n    });\n  };\n\n  return _jsxs(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"flex-start\",\n      gap: 10\n    },\n    children: [_jsx(View, {\n      children: _jsx(Image, {\n        source: {\n          uri: item.itemImage\n        },\n        style: {\n          width: 100,\n          height: 100,\n          borderRadius: 5\n        }\n      })\n    }), _jsxs(View, {\n      style: {\n        flex: 1,\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\"\n      },\n      children: [_jsxs(View, {\n        style: {\n          flex: 1,\n          display: \"flex\"\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 17,\n            fontWeight: 600,\n            flex: 1\n          },\n          children: item.itemName\n        }), _jsxs(View, {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n            backgroundColor: \"#e9e9e9\",\n            width: 100,\n            borderRadius: 5,\n            height: 36,\n            gap: 5\n          },\n          children: [_jsx(TouchableOpacity, {\n            onPress: removeItem,\n            style: {\n              borderRightWidth: 1,\n              paddingHorizontal: 10,\n              borderRightColor: \"#c1bfbf\"\n            },\n            children: _jsx(Text, {\n              style: {\n                fontSize: 20\n              },\n              children: \"-\"\n            })\n          }), _jsx(Text, {\n            style: {\n              fontSize: 18,\n              fontWeight: 600\n            },\n            children: quantity\n          }), _jsx(TouchableOpacity, {\n            onPress: addItem,\n            style: {\n              borderLeftWidth: 1,\n              paddingHorizontal: 10,\n              borderLeftColor: \"#c1bfbf\"\n            },\n            children: _jsx(Text, {\n              style: {\n                fontSize: 20\n              },\n              children: \"+\"\n            })\n          })]\n        })]\n      }), _jsxs(Text, {\n        style: {\n          fontSize: 16\n        },\n        children: [\"\\u20B9\", item.itemPrice]\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["useContext","useState","TouchableOpacity","CartContext","MenuItem","item","cart","dispatch","findIndex","citem","id","_id","find","qty","quantity","setQuantity","addItem","prev","type","payload","cId","canteenId","name","itemName","price","itemPrice","image","itemImage","removeItem","display","flexDirection","alignItems","gap","uri","width","height","borderRadius","flex","fontSize","fontWeight","justifyContent","backgroundColor","borderRightWidth","paddingHorizontal","borderRightColor","borderLeftWidth","borderLeftColor"],"sources":["C:/Users/hello/OneDrive/Desktop/React-native/canteen-project/client/components/MenuItem.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { View, Image, Text } from \"react-native\";\r\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\r\nimport { CartContext } from \"../context/CartContext\";\r\n\r\nexport default function MenuItem({ item }) {\r\n  const { cart, dispatch } = useContext(CartContext);\r\n  const [quantity, setQuantity] = useState(\r\n    cart.findIndex((citem) => citem.id == item._id) > -1\r\n      ? cart.find((citem) => citem.id == item._id).qty\r\n      : 0\r\n  );\r\n\r\n  const addItem = () => {\r\n    setQuantity((prev) => prev + 1);\r\n\r\n    dispatch({\r\n      type: \"ADD_ITEM\",\r\n      payload: {\r\n        id: item._id,\r\n        cId: item.canteenId,\r\n        name: item.itemName,\r\n        price: item.itemPrice,\r\n        image: item.itemImage,\r\n        qty: 1,\r\n      },\r\n    });\r\n  };\r\n\r\n  const removeItem = () => {\r\n    if (!quantity) return;\r\n\r\n    setQuantity((prev) => prev - 1);\r\n    dispatch({ type: \"REMOVE_ITEM\", payload: item._id });\r\n  };\r\n\r\n  return (\r\n    <View\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"flex-start\",\r\n        gap: 10,\r\n      }}\r\n    >\r\n      <View>\r\n        <Image\r\n          source={{ uri: item.itemImage }}\r\n          style={{ width: 100, height: 100, borderRadius: 5 }}\r\n        />\r\n      </View>\r\n      <View\r\n        style={{\r\n          flex: 1,\r\n          height: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n        }}\r\n      >\r\n        <View style={{ flex: 1, display: \"flex\" }}>\r\n          <Text style={{ fontSize: 17, fontWeight: 600, flex: 1 }}>\r\n            {item.itemName}\r\n          </Text>\r\n\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-around\",\r\n              backgroundColor: \"#e9e9e9\",\r\n              width: 100,\r\n              borderRadius: 5,\r\n              height: 36,\r\n              gap: 5,\r\n            }}\r\n          >\r\n            <TouchableOpacity\r\n              onPress={removeItem}\r\n              style={{\r\n                borderRightWidth: 1,\r\n                paddingHorizontal: 10,\r\n                borderRightColor: \"#c1bfbf\",\r\n              }}\r\n            >\r\n              <Text style={{ fontSize: 20 }}>-</Text>\r\n            </TouchableOpacity>\r\n            <Text style={{ fontSize: 18, fontWeight: 600 }}>{quantity}</Text>\r\n            <TouchableOpacity\r\n              onPress={addItem}\r\n              style={{\r\n                borderLeftWidth: 1,\r\n                paddingHorizontal: 10,\r\n                borderLeftColor: \"#c1bfbf\",\r\n              }}\r\n            >\r\n              <Text style={{ fontSize: 20 }}>+</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        <Text style={{ fontSize: 16 }}>â‚¹{item.itemPrice}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}