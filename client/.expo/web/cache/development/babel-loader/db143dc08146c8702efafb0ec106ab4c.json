{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport axios from \"../axios\";\nimport { useContext, useState } from \"react\";\nimport { Link, useRouter } from \"expo-router\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Signup() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      emailId = _useState4[0],\n      setEmailId = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      dispatch = _useContext.dispatch;\n\n  var router = useRouter();\n\n  var register = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var newData = {\n        name: username,\n        email: emailId,\n        password: password\n      };\n\n      try {\n        var res = yield axios.post(\"/auth/user/signup\", newData);\n\n        if (res.status == 200) {\n          yield AsyncStorage.setItem(\"auth-token\", res.data.token);\n          dispatch({\n            type: \"LOGIN_SUCCESS\",\n            payload: res.data.user\n          });\n          router.push(\"/profile/home\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    return function register() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 30,\n        fontWeight: 600\n      },\n      children: \"Sign Up\"\n    }), _jsxs(View, {\n      style: {\n        display: \"flex\",\n        gap: 10,\n        marginVertical: 32\n      },\n      children: [_jsx(TextInput, {\n        value: username,\n        placeholder: \"Username\",\n        style: styles.inputContainer,\n        onChangeText: function onChangeText(e) {\n          return setUsername(e);\n        }\n      }), _jsx(TextInput, {\n        value: emailId,\n        placeholder: \"Email ID\",\n        style: styles.inputContainer,\n        onChangeText: function onChangeText(e) {\n          return setEmailId(e);\n        }\n      }), _jsx(TextInput, {\n        value: password,\n        secureTextEntry: true,\n        placeholder: \"Password\",\n        style: styles.inputContainer,\n        onChangeText: function onChangeText(e) {\n          return setPassword(e);\n        }\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: register,\n      children: _jsx(Text, {\n        style: {\n          color: \"white\",\n          textAlign: \"center\",\n          fontSize: 16\n        },\n        children: \"Continue\"\n      })\n    }), _jsxs(Text, {\n      style: {\n        textAlign: \"center\",\n        marginTop: 15,\n        fontSize: 16\n      },\n      children: [\"Already have an account?\", \" \", _jsx(Link, {\n        href: \"/login\",\n        style: {\n          color: \"#FF4136\"\n        },\n        children: \"Login\"\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    justifyContent: \"center\",\n    paddingHorizontal: 20\n  },\n  inputContainer: {\n    padding: 10,\n    backgroundColor: \"#efeeea\",\n    borderRadius: 5\n  },\n  button: {\n    backgroundColor: \"#FF4136\",\n    paddingVertical: 10,\n    borderRadius: 5\n  }\n});","map":{"version":3,"names":["axios","useContext","useState","Link","useRouter","AsyncStorage","AuthContext","Signup","username","setUsername","emailId","setEmailId","password","setPassword","dispatch","router","register","newData","name","email","res","post","status","setItem","data","token","type","payload","user","push","error","console","log","styles","container","fontSize","fontWeight","display","gap","marginVertical","inputContainer","e","button","color","textAlign","marginTop","StyleSheet","create","flex","justifyContent","paddingHorizontal","padding","backgroundColor","borderRadius","paddingVertical"],"sources":["C:/Users/hello/OneDrive/Desktop/React-native/canteen-project/client/app/signup.js"],"sourcesContent":["import axios from \"../axios\";\r\nimport { useContext, useState } from \"react\";\r\nimport { Link, useRouter } from \"expo-router\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  Pressable,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nexport default function Signup() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [emailId, setEmailId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const { dispatch } = useContext(AuthContext);\r\n  const router = useRouter();\r\n\r\n  const register = async () => {\r\n    const newData = {\r\n      name: username,\r\n      email: emailId,\r\n      password: password,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\"/auth/user/signup\", newData);\r\n\r\n      if (res.status == 200) {\r\n        await AsyncStorage.setItem(\"auth-token\", res.data.token);\r\n\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data.user });\r\n        router.push(\"/profile/home\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={{ fontSize: 30, fontWeight: 600 }}>Sign Up</Text>\r\n\r\n      <View style={{ display: \"flex\", gap: 10, marginVertical: 32 }}>\r\n        <TextInput\r\n          value={username}\r\n          placeholder=\"Username\"\r\n          style={styles.inputContainer}\r\n          onChangeText={(e) => setUsername(e)}\r\n        />\r\n        <TextInput\r\n          value={emailId}\r\n          placeholder=\"Email ID\"\r\n          style={styles.inputContainer}\r\n          onChangeText={(e) => setEmailId(e)}\r\n        />\r\n        <TextInput\r\n          value={password}\r\n          secureTextEntry={true}\r\n          placeholder=\"Password\"\r\n          style={styles.inputContainer}\r\n          onChangeText={(e) => setPassword(e)}\r\n        />\r\n      </View>\r\n\r\n      <TouchableOpacity style={styles.button} onPress={register}>\r\n        <Text style={{ color: \"white\", textAlign: \"center\", fontSize: 16 }}>\r\n          Continue\r\n        </Text>\r\n      </TouchableOpacity>\r\n\r\n      <Text style={{ textAlign: \"center\", marginTop: 15, fontSize: 16 }}>\r\n        Already have an account?{\" \"}\r\n        <Link href=\"/login\" style={{ color: \"#FF4136\" }}>\r\n          Login\r\n        </Link>\r\n      </Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingHorizontal: 20,\r\n  },\r\n\r\n  inputContainer: {\r\n    padding: 10,\r\n    backgroundColor: \"#efeeea\",\r\n    borderRadius: 5,\r\n  },\r\n  button: {\r\n    backgroundColor: \"#FF4136\",\r\n    paddingVertical: 10,\r\n    borderRadius: 5,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}