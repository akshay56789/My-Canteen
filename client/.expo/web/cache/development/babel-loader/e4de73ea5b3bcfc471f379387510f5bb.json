{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useRouter } from \"expo-router\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Home() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user;\n\n  var router = useRouter();\n\n  var navigateCanteen = function () {\n    var _ref = _asyncToGenerator(function* (canteenId) {\n      router.push({\n        pathname: \"/canteen/\" + canteenId,\n        params: {\n          canteenId: canteenId\n        }\n      });\n    });\n\n    return function navigateCanteen(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TextInput, {\n      value: input,\n      placeholder: \"Search in scanned canteens\",\n      onChangeText: function onChangeText(text) {\n        return setInput(text);\n      },\n      style: {\n        backgroundColor: \"#f6f6f6\",\n        borderRadius: 5,\n        height: 50,\n        paddingHorizontal: 10,\n        fontSize: 16\n      }\n    }), _jsxs(Text, {\n      style: {\n        fontSize: 20,\n        marginTop: 20,\n        fontWeight: 600\n      },\n      children: [\"Recently Scanned (\", user.savedCanteens.length, \")\"]\n    }), _jsx(FlatList, {\n      data: user.savedCanteens.sort(function (a, b) {\n        return b.workingStatus - a.workingStatus;\n      }),\n      style: {\n        marginTop: 20\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n\n        if (item.name.toUpperCase().includes(input.toUpperCase())) {\n          return _jsx(TouchableOpacity, {\n            disabled: !item.workingStatus,\n            onPress: function onPress() {\n              return navigateCanteen(item._id);\n            },\n            style: [styles.itemContainer, {\n              opacity: item.workingStatus ? 1 : 0.3\n            }],\n            children: _jsx(Text, {\n              style: styles.item,\n              children: item.name\n            })\n          });\n        }\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    paddingTop: 10,\n    paddingHorizontal: 20,\n    color: \"blue\"\n  },\n  itemContainer: {\n    height: 120,\n    position: \"relative\",\n    marginBottom: 10,\n    backgroundColor: \"#F5F5F5\",\n    borderRadius: 10\n  },\n  item: {\n    fontSize: 20,\n    padding: 20\n  },\n  itemRating: {\n    gap: 4,\n    right: 10,\n    position: \"absolute\",\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    paddingHorizontal: 5,\n    paddingVertical: 5\n  }\n});","map":{"version":3,"names":["useContext","useState","AuthContext","useRouter","Home","input","setInput","user","router","navigateCanteen","canteenId","push","pathname","params","styles","container","text","backgroundColor","borderRadius","height","paddingHorizontal","fontSize","marginTop","fontWeight","savedCanteens","length","sort","a","b","workingStatus","item","name","toUpperCase","includes","_id","itemContainer","opacity","StyleSheet","create","flex","paddingTop","color","position","marginBottom","padding","itemRating","gap","right","display","alignItems","flexDirection","paddingVertical"],"sources":["C:/Users/hello/OneDrive/Desktop/React-native/canteen-project/client/app/profile/home.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  FlatList,\r\n  TouchableOpacity,\r\n  TextInput,\r\n} from \"react-native\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useRouter } from \"expo-router\";\r\n\r\nexport default function Home() {\r\n  const [input, setInput] = useState(\"\");\r\n  const { user } = useContext(AuthContext);\r\n  const router = useRouter();\r\n\r\n  const navigateCanteen = async (canteenId) => {\r\n    router.push({\r\n      pathname: `/canteen/${canteenId}`,\r\n      params: { canteenId },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TextInput\r\n        value={input}\r\n        placeholder=\"Search in scanned canteens\"\r\n        onChangeText={(text) => setInput(text)}\r\n        style={{\r\n          backgroundColor: \"#f6f6f6\",\r\n          borderRadius: 5,\r\n          height: 50,\r\n          paddingHorizontal: 10,\r\n          fontSize: 16,\r\n        }}\r\n      />\r\n\r\n      <Text style={{ fontSize: 20, marginTop: 20, fontWeight: 600 }}>\r\n        Recently Scanned ({user.savedCanteens.length})\r\n      </Text>\r\n\r\n      <FlatList\r\n        data={user.savedCanteens.sort(\r\n          (a, b) => b.workingStatus - a.workingStatus\r\n        )}\r\n        style={{ marginTop: 20 }}\r\n        renderItem={({ item }) => {\r\n          if (item.name.toUpperCase().includes(input.toUpperCase())) {\r\n            return (\r\n              <TouchableOpacity\r\n                disabled={!item.workingStatus}\r\n                onPress={() => navigateCanteen(item._id)}\r\n                style={[\r\n                  styles.itemContainer,\r\n                  { opacity: item.workingStatus ? 1 : 0.3 },\r\n                ]}\r\n              >\r\n                <Text style={styles.item}>{item.name}</Text>\r\n              </TouchableOpacity>\r\n            );\r\n          }\r\n        }}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    paddingTop: 10,\r\n    paddingHorizontal: 20,\r\n    color: \"blue\",\r\n  },\r\n  itemContainer: {\r\n    height: 120,\r\n    position: \"relative\",\r\n    marginBottom: 10,\r\n    backgroundColor: \"#F5F5F5\",\r\n    borderRadius: 10,\r\n  },\r\n  item: {\r\n    fontSize: 20,\r\n    padding: 20,\r\n  },\r\n  itemRating: {\r\n    gap: 4,\r\n    right: 10,\r\n    position: \"absolute\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"row\",\r\n    paddingHorizontal: 5,\r\n    paddingVertical: 5,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}